# Telegram-–±–æ—Ç –¥–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–∞ (@CityGadgets_canal_bot)


–≠—Ç–æ Telegram-–±–æ—Ç –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–º —á–µ—Ä–µ–∑ Telegram. –ü–æ–∑–≤–æ–ª—è–µ—Ç:
- –ü—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å —Ç–æ–≤–∞—Ä—ã –≤ –≤–∏–¥–µ –∫–∞—Ç–∞–ª–æ–≥–∞
- –£–ø—Ä–∞–≤–ª—è—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏, –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏ –∏ —Ç–æ–≤–∞—Ä–∞–º–∏
- –ó–∞–≥—Ä—É–∂–∞—Ç—å –∏ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –±–∞–Ω–Ω–µ—Ä—ã (—Ñ–æ—Ç–æ/–≥–∏—Ñ–∫–∏)
- –†–∞–±–æ—Ç–∞—Ç—å —Å –∫–æ—Ä–∑–∏–Ω–æ–π –∏ –æ—Ñ–æ—Ä–º–ª—è—Ç—å –∑–∞–∫–∞–∑—ã
- –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–æ–≤–∞—Ç—å —Å –∞–¥–º–∏–Ω–∫–æ–π —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥—ã

---

## üß∞ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+
- `python-telegram-bot` (v21+)
- `SQLAlchemy` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π ORM)
- PostgreSQL
- `asyncpg`
- `logging` ‚Äî –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- Telegram Bot API

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

.
‚îú‚îÄ‚îÄ botcanal.py # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ database.py # –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –ë–î –∏ –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ handlers.py # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∫–æ–º–∞–Ω–¥ –∏ —Å–æ–±—ã—Ç–∏–π
‚îú‚îÄ‚îÄ keyboards.py # –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä
‚îú‚îÄ‚îÄ models.py # –ú–æ–¥–µ–ª–∏ SQLAlchemy
‚îî‚îÄ‚îÄ config.py # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (—Ç–æ–∫–µ–Ω, –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î)


---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```bash
pip install python-telegram-bot sqlalchemy asyncpg psycopg2-binary
2. –°–æ–∑–¥–∞–π—Ç–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
bash



createdb botcanal -U postgres
createuser -P xxxxx
–û–±–Ω–æ–≤–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ config.py:

python



DATABASE_URL = "postgresql+asyncpg://xxxxx:xxxx@xxxx:xxxxx/xxxxxx"
BOT_TOKEN = "–í–ê–®_–¢–û–ö–ï–ù_–û–¢_BOTFATHER"
–í—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Alembic ‚Äî –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç–µ –∏—Ö.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞
bash



python botcanal.py
üõ† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±–æ—Ç–∞
–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:
/start ‚Äî –≥–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
–ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º –∏ –ø–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –±–∞–Ω–Ω–µ—Ä–æ–≤
–ö–æ—Ä–∑–∏–Ω–∞ –∏ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞
–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤:
/admin ‚Äî –¥–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω–æ–π –ø–∞–Ω–µ–ª–∏
–î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ:
–ö–∞—Ç–µ–≥–æ—Ä–∏–π
–ü–æ–¥–∫–∞—Ç–µ–≥–æ—Ä–∏–π
–¢–æ–≤–∞—Ä–æ–≤
–ë–∞–Ω–Ω–µ—Ä–æ–≤ (–≤ —Ç–æ–º —á–∏—Å–ª–µ —Å –≥–∏—Ñ–∫–∞–º–∏)
üì∑ –ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã —Å –±–∞–Ω–Ω–µ—Ä–∞–º–∏
–ë–æ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç:

–§–æ—Ç–æ
–ì–∏—Ñ–∫–∏ (—á–µ—Ä–µ–∑ document)
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ file_id –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
